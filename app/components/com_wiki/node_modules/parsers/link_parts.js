var _ = require('underscore');

module.exports = function (links) {
    return _.map(links, function (link) {
        var e = link.match(/\[\[([^:\]]+)(:([^\]]+))?\]\]/);
        if (!e) return false;
        return {name:e[1], original:link, label:e[3] ? e[3] : e[1].replace(/_/g, ' ')};
    })
}